[{"title":"Hello World","url":"/2024/08/13/hello-world - 副本 - 副本 - 副本/","content":"Welcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/one-command-deployment.html)\n"},{"title":"Hello World","url":"/2024/08/13/hello-world - 副本 - 副本/","content":"Welcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/one-command-deployment.html)\n"},{"title":"Hello World","url":"/2024/08/13/hello-world - 副本/","content":"Welcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/one-command-deployment.html)\n"},{"title":"G1调优实战","url":"/2024/08/13/LD_JVM调优方案/","content":"\n# JVM参数\n\n![image-20240728224033497](../images/image-20240728224033497.png)\n\n# 启动参数\n\nAttaching to process ID 12176, please wait...\nDebugger attached successfully.\nServer compiler detected.\nJVM version is 25.192-b12\nNon-default VM flags: -XX:CICompilerCount=2 -XX:CompressedClassSpaceSize=260046848 -XX:ConcGCThreads=1 -XX:G1HeapRegionSize=2097152 -XX:InitialHeapSize=2147483648-XX:MarkStackSize=4194304 -XX:MaxHeapSize=6442450944 -XX:MaxMetaspaceSize=268435456 -XX:MaxNewSize=3865051136 -XX:MinHeapDeltaBytes=2097152 -XX:+UseCompressedClassPointers -XX:+UseCompressedOops -XX:+UseFastUnorderedTimeStamps -XX:+UseG1GC\nCommand line:  -Dspring.profiles.active=prod -javaagent:/data/jmx_exporter/jmx_prometheus_javaagent-0.13.0.jar=18080:/data/jmx_exporter/jmx_exporter_config.yaml -Xms2048m -Xmx6144m -XX:MaxMetaspaceSize=256m -XX:+UseG1GC\n\n\n\n# GC回收前后内存使用情况\n\nYGC后，内存占用率，新生代≈1%，老年代≈25%\n\n![image-20240728213806870](../images/image-20240728213806870.png)\n\n![image-20240728213721082](../images/image-20240728213721082.png)\n\n# 回收前\n\n![image-20240728222745468](../images/image-20240728222745468.png)\n\n\n\n# 回收后\n\n![image-20240728222228012](../images/image-20240728222228012.png)\n\n\n\n# 结论：新生代内存占比过高\n\n因为我们项目中的新建对象过多，G1优先将内存分配给了Yonug区，导致新生代比例过高。\n\n回收前，G1 Eden区占用比达到55%（1697/3072），young区分配内存占总内存63%。\n\n## 方案1：调低新生代内存（不推荐）\n\n-XX:MaxNewSize=3g\n\n启动命令：` -Dspring.profiles.active=prod -javaagent:/data/jmx_exporter/jmx_prometheus_javaagent-0.13.0.jar=18080:/data/jmx_exporter/jmx_exporter_config.yaml -Xms2048m -Xmx6144m -XX:MaxMetaspaceSize=256m -XX:+UseG1GC -XX:MaxNewSize=3g`\n\n## 方案2：降低新生代比例（不推荐）\n\n-XX:NewRatio=3\t\t# 设置年轻代与老年代的比例为1:3，默认为1:2\n\n启动命令：` -Dspring.profiles.active=prod -javaagent:/data/jmx_exporter/jmx_prometheus_javaagent-0.13.0.jar=18080:/data/jmx_exporter/jmx_exporter_config.yaml -Xms2048m -Xmx6144m -XX:MaxMetaspaceSize=256m -XX:+UseG1GC -XX:NewRatio=3`\n\n## 方案3：降低回收阀值（优先）\n\n-XX:InitiatingHeapOccupancyPercent=30\t\t# 可以调整老年代占用超过30%Region触发MixedGC，默认45%\n\n启动命令：` -Dspring.profiles.active=prod -javaagent:/data/jmx_exporter/jmx_prometheus_javaagent-0.13.0.jar=18080:/data/jmx_exporter/jmx_exporter_config.yaml -Xms2048m -Xmx6144m -XX:MaxMetaspaceSize=256m -XX:+UseG1GC -XX:InitiatingHeapOccupancyPercent=30`\n\n## 方案4：多预留点担保空间（推荐）\n\n-XX:G1ReservePercent=20\t\t# G1为分配担保预留的空间比例，默认10%\n\n启动命令：` -Dspring.profiles.active=prod -javaagent:/data/jmx_exporter/jmx_prometheus_javaagent-0.13.0.jar=18080:/data/jmx_exporter/jmx_exporter_config.yaml -Xms2048m -Xmx6144m -XX:MaxMetaspaceSize=256m -XX:+UseG1GC -XX:G1ReservePercent=20`\n\n# 重启服务（10.68.5.68）\n\n## 初始配置\n\n![image-20240729154414397](../images/image-20240729154414397.png)\n\n![image-20240729154429099](../images/image-20240729154429099.png)\n"},{"title":"Hello World","url":"/2024/08/13/hello-world/","content":"Welcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/one-command-deployment.html)\n"}]